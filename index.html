<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <title>System process flow</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
    </head>
    <body>
        <div class="row">
            <div class="col-md-3">
                <div class="row">
                    <div class="col-md-12">
                        <h3>Job queue</h3>
                        <ul class="list-group" id="jobQueue">
                        </ul>   
                    </div>                 
                </div>
            </div>
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-12">
                        <h3>Ready queue</h3>
                        <ul class="list-group">
                        </ul> 
                    </div>
                </div>
                <div class="row my-2">
                    <div class="col-md-12">
                        <h3>Input</h3>
                        <div class="row my-2">
                            <div class="col-md-2">
                                <b>ID:</b>
                            </div>
                            <div class="col-md-10">
                                <input type="text" class="form-control" name="id" id="jobId" placeholder="Process ID goes here" />
                            </div>
                        </div>
                        <div class="row my-2">
                            <div class="col-md-2">
                                <b>I/O Devices:</b>
                            </div>
                            <div class="col-md-10">
                                <input type="checkbox" class="form-control" name="devices" id="jobDevices" placeholder="Process ID goes here" />
                            </div>
                        </div>
                        <div class="row my-2">
                            <div class="col-md-3">
                                <b>Running time:</b>
                            </div>
                            <div class="col-md-9">
                                <input type="number" class="form-control" name="time" id="jobTime" placeholder="Process ID goes here" />
                            </div>
                        </div>
                        <div class="row my-2">
                            <div class="col-md-12">
                                <button type="button" class="btn btn-success float-right" onclick="system.addProcess()">Add Process</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="row">
                    <div class="col-md-12">
                        <h3>CPU</h3>
                        <ul class="list-group">
                        </ul>                  
                    </div>     
                </div>
            </div>
        </div>
        <script type="text/javascript">
            // Global variables
            let system = {
                // List of jobs
                jobs: [],
                // Create job queue
                createJobQueue: () => {
                    let jobQueue = document.getElementById('jobQueue');

                    for (let iJobs = 0; iJobs < system.jobs.length; iJobs++) {
                        let li = document.createElement('li');
                        li.className = 'list-group-item';
                        let textNode = document.createTextNode(system.jobs[iJobs].text);
                        li.appendChild(textNode);
                        jobQueue.appendChild(li);
                    }
                },
                // Add process to queue
                addProcess: () => {
                    // Add process
                    system.jobs.unshift({
                        text: document.getElementById('jobId').value,
                        devices: document.getElementById('jobDevices').value,
                        time: document.getElementById('jobTime').value
                    });

                    // Clear fields
                    document.getElementById('jobId').value = '';
                    document.getElementById('jobDevices').value = '';
                    document.getElementById('jobTime').value = '';

                    // Update job queue
                    system.createJobQueue();
                }
            };

            // Create job queue
            system.createJobQueue();
        </script>
    </body>
</html>